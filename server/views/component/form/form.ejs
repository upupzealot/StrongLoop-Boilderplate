<% function submitBtn (btn) { %>
  <button name="submit" class="btn btn-default <% if(btn.position === 'right'){ %>pull-right<% } %>">
    <%- btn.text %>
  </button>
<% } %>

<div id = "<%- id %>" class="clearfix">
  <% items.forEach(function(item) { %>
    <div class="form-group">
      <%- inc('form/input-text', 'ele', {item : item}); %>
    </div>
  <% }); %>
  <% submitBtn(submit); %>
</div>

<script type="text/javascript">
$(function() {
  var $form = $('#<%- id %>');

  // 绑定校验事件
  var $item = null;
  <% items.forEach(function(item) { %>
    $item = $form.find('[name=<%- item.name %>]');
    <%- inc('form/input-text', 'validate', {item : item}); %>
  <% }); %>

  var $submit_btn = $form.find('[name=submit]');
  $submit_btn.on('click', function() {
    var form = {};
    <% items.forEach(function(item) { %>
      $item = $form.find('[name=<%- item.name %>]');
      <%- inc('form/input-text', 'val', {item : item}); %>
    <% }); %>
    console.log(form);
  });
});
</script>
